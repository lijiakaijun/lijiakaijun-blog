---
title: Microaoft Power Automate + Telegram Bot制作个简易推送
toc: true
abstract: '文章被加密,请输入密码查看'
message: 密码？你知道这篇文章的密码不？
wrong_pass_message: '乍一看密码有点不对劲,是不是输错了...'
wrong_hash_message: '似乎文章不能被校验,不过您还是能看看解密后的内容哒'
categories: 笔记
tags:
  - 微软
  - Telegram
abbrlink: 30283
date: 2021-07-04 17:17:12
pic:
top:
password:
---

行吧这个教程...我忘记了XD

既然开都开了，那就...写吧

之前突然想起我自己在Telegram那不是弄过一个bot用来实现评论通知嘛（借助Waline）

那加上Microaoft Power Automate，岂不是...（坏笑）

**我懒得截屏挂图片了，所以这篇没有图片**

灵感来源：https://www.v2ex.com/t/742914

---

## 准备好Telegram Bot

这一部分网上都有，我懒得写了2333

同时，我们需要获取自己的id，以便能推送

---

## 新建一个自动流

首先，打开[Microaoft Power Automate](https://asia.flow.microsoft.com/)，点击左边栏中的“我的流”

然后在“流”这个界面点击“新建”，随即点“自动化云端流”

点完后会有个界面让你写流名称和触发器

触发器是必要的，而流名称是可选的

接下来我们按照实际情况选择对应的流（可以通过搜索所有触发器来找到所想要的）

---

## 当有新的电子邮件到达

**注意：选择触发器时必须留意描述是Office 365 Outlook还是Outlook，前者只适用于学校/工作账户，后者适用于个人账户**

选择好触发器后点击“创建”，稍等片刻

然后就来到了流编辑界面

然后点击“登录”来登录自己的账户，浏览器会弹出一个新窗口来让你登录


登录成功后就看到一个“文件夹”和~~特别先进的~~下拉菜单栏

选择好文件夹后点击“新步骤”，点击“内置”，然后搜http

然后在下面选择“操作”，选择http

在“方法”中选择get，url中则填下面内容

````url
    https://api.telegram.org/这里填写你的bot token/sendMessage?chat_id=自己的id&text=这里就自由发挥了
````

备注下，text中可以添加动态内容，换行的话需要填`%0a`

然后？保存啊~

保存后可以发送个email到自己的邮箱测试下会不会推送，会的话就行

至于为什么我不用post？我忘记要填什么了2333

---

## 当有新的推文

还是和上面类似的步骤，但有几点需要注意

1.触发器需要选择“发布新推文的时间”

2.搜索文本可以参照twitter中的高级搜索，如果只是想获取某个账号的就填写`from:@用户名`

---

## 选择Http后提示开始试用高级版

参考https://www.v2ex.com/t/742914 中的第15行回复，注册个社区计划

流似乎是限制每月 750 次，应该够用了吧